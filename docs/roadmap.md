# Roadmap

> English | **[Español](roadmap.es.md)**

Future plans for Vaultic, organized by version. Each version has a clear scope and can be released independently.

Current version: **v1.1.0**

---

## v1.2.0 — Update Notifications

Know when a new version is available without checking manually.

- **Background version check**: on the first execution of the day, a non-blocking background thread queries the latest version from crates.io. The result is cached for 24 hours. On the next execution, if a newer version exists, a single line is shown at the end of the output:
  ```
  Update available: v1.1.0 → v1.2.0 — run 'vaultic self-update'
  ```
- **`vaultic self-update`**: downloads and installs the latest version. Detects the install method:
  - If installed via `cargo install` → runs `cargo install vaultic`
  - If installed via precompiled binary → downloads from GitHub Releases and replaces the binary
- **Cache location**: `~/.vaultic/update_cache.json` (global, not per-project)
- **Zero impact on performance**: the check never blocks command execution

---

## v1.3.0 — Secret Validation & Health

Catch configuration errors before they reach production.

- **`vaultic validate`**: check secrets against format rules defined in `config.toml`:
  ```toml
  [validation]
  DATABASE_URL = { type = "url", required = true }
  PORT = { type = "integer", min = 1024, max = 65535 }
  API_KEY = { type = "string", min_length = 32 }
  DEBUG = { type = "boolean" }
  ```
  Output:
  ```
  ✓ DATABASE_URL — valid URL
  ✗ PORT — expected integer, got "abc"
  ✗ API_KEY — too short (12 chars, minimum 32)
  ✓ DEBUG — valid boolean
  ```
- **Secret age tracking**: record when each secret was last modified. Warn if a secret hasn't been rotated in a configurable number of days:
  ```
  ⚠ DB_PASSWORD last rotated 120 days ago (policy: 90 days)
  ```
- **`vaultic template sync`**: auto-generate `.env.template` from the keys in your encrypted environments, without exposing values. Keeps the template always in sync.

---

## v1.4.0 — Docker & CI/CD Integration

Seamless integration with containers and deployment pipelines.

- **`vaultic docker-env --env dev`**: generates a `.env` file ready for `docker-compose up`. Resolves inheritance and outputs to the path docker-compose expects.
  ```yaml
  # docker-compose.yml
  env_file:
    - .env  # Generated by: vaultic docker-env --env dev
  ```
- **`vaultic ci export --env dev`**: outputs secrets in formats compatible with CI systems:
  - GitHub Actions: `KEY=value >> $GITHUB_ENV`
  - GitLab CI: `export KEY=value`
  - Generic: `KEY=value` lines
- **`vaultic ci mask`**: outputs `::add-mask::` commands for GitHub Actions to prevent secrets from appearing in logs
- **Pre-built GitHub Action** (`softdryzz/vaultic-action@v1`):
  ```yaml
  - uses: softdryzz/vaultic-action@v1
    with:
      env: dev
      key: ${{ secrets.VAULTIC_AGE_KEY }}
  ```

---

## v1.5.0 — Multi-format Parsers

Support configuration files beyond `.env`.

- **New parsers**: TOML, YAML, JSON — implementing the existing `ConfigParser` trait
- **Auto-detection**: format determined by file extension (`.toml`, `.yml`, `.yaml`, `.json`)
- **Round-trip preservation**: comments and key ordering maintained after encrypt/decrypt
- **Mixed projects**: different environments can use different formats
  ```toml
  [environments]
  dev = { file = "dev.env", inherits = "base" }
  k8s = { file = "k8s-secrets.yaml", inherits = "base", format = "yaml" }
  ```

---

## v2.0.0 — Access Control

Role-based permissions for team security. Breaking change: new config.toml sections.

- **Roles**: `admin` and `member` defined in `config.toml`:
  ```toml
  [permissions]
  admin_keys = ["age1ql3z7hjy...ac8p"]  # Only these can manage keys/config

  [permissions.environments]
  dev = "all"           # Everyone can encrypt/decrypt dev
  staging = "all"       # Everyone can encrypt/decrypt staging
  prod = ["age1ql3z7hjy...ac8p", "age1x9ynm5k...7f2p"]  # Only listed keys
  ```
- **Admin-only commands**: `keys add`, `keys remove`, `encrypt --all`, config edits
- **Per-environment access**: a developer can decrypt `dev` but not `prod` unless explicitly authorized
- **Local enforcement**: no server needed — permissions checked against `config.toml` and your local key

---

## v2.1.0 — Import & Export

Migrate from other tools and export to any format.

- **Import**:
  ```bash
  vaultic import --from dotenv-vault .env.vault   # From dotenv-vault
  vaultic import --from sops secrets.yaml          # From Mozilla SOPS
  vaultic import --from 1password "vault/item"     # From 1Password CLI
  vaultic import --from aws-ssm /app/prod/         # From AWS Parameter Store
  ```
- **Export**:
  ```bash
  vaultic export --env dev --format json           # JSON output
  vaultic export --env dev --format yaml           # YAML output
  vaultic export --env dev --format toml           # TOML output
  vaultic export --env dev --format shell          # export KEY=value
  ```
- **Migration guides**: step-by-step documentation for switching from each competitor

---

## v2.2.0 — Notifications & Webhooks

Keep your team informed about secret changes.

- **`vaultic notify setup`**: configure a webhook URL for notifications:
  ```toml
  [notifications]
  webhook_url = "https://hooks.slack.com/services/T.../B.../xxx"
  events = ["encrypt", "key_add", "key_remove"]
  ```
- **Supported platforms**: Slack, Discord, Microsoft Teams, generic HTTP POST
- **Customizable events**: choose which operations trigger a notification
- **Payload**: action, author, environment, timestamp (never includes secret values)

---

## v3.0.0 — Server Sync

Optional central server for real-time secret synchronization. Breaking change: async runtime.

- **Central server**: a lightweight Rust server that stores encrypted files and manages team access
- **`vaultic sync push --env dev`**: upload encrypted environment to server
- **`vaultic sync pull --env dev`**: download latest version from server
- **`vaultic sync status`**: show sync state for all environments
- **`vaultic team`**: manage team members and permissions via server
- **Conflict resolution**: detect when local and remote diverge, offer merge strategies
- **Offline-first**: without server configuration, Vaultic works identically to v1.x/v2.x — pure Git-based
- **Self-hostable**: deploy your own server or use a managed instance

---

## Version Policy

| Version bump | When |
|-------------|------|
| Patch (1.1.x) | Bug fixes, docs |
| Minor (1.x.0) | New features, backward compatible |
| Major (x.0.0) | Breaking changes to config.toml or CLI behavior |

All v1.x releases maintain full backward compatibility with v1.0.0 projects.
